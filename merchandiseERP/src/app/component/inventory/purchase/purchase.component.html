<div class="px-3 py-3">
    <!-- <h4 class="card-title mb-1">{{this.title}}</h4>
    <br> -->
    <h4 class="card-title mb-1">{{title}}</h4>
    <br>
    <p></p>
    <!-- Button trigger modal -->
    <button type="button" id="btnSave" class="btn btn-primary py-2" (click)=" menuType=true" data-toggle="modal"
        data-target="#exampleModal">
        Create New
    </button>
    <!-- <a href="/stylecategories/addform" class="btn btn-sm btn-primary">Create New</a> -->

    <div class="py-2">
        <table class="table table-striped text-center">
            <thead>
                <tr>
                    <th scope="col">SI</th>
                    <th scope="col">Id</th>
                    <th scope="col">Raw Material</th>
                    <th scope="col">Order Date</th>
                    <th scope="col">Delivery Date</th>

                    <th scope="col">Total</th>
                    <th scope="col">Status</th>
                    <th scope="col">Action</th>

                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let purchaseRow of purchase; index as i">
                    <td>{{i+1}}</td>
                    <td>{{purchaseRow.id}}</td>
                    <td>{{purchaseRow.rawMaterialId?.name}}</td>
                    <td>{{purchaseRow.purchaseDate}}</td>
                    <td>{{purchaseRow.deliveryDate}}</td>

                    <td>{{purchaseRow.total}}</td>
                    
                    <!-- <td>{{purchaseRow.statusId?.name}}</td> -->
                    <td ><span [ngClass]="{'badge ':true,
                        'bg-warning': purchaseRow.statusId?.id == 1
                                            ,'bg-primary': purchaseRow.statusId?.id == 2,
                                            'bg-info': purchaseRow.statusId?.id == 3,
                                            'bg-success': purchaseRow.statusId?.id == 4}">
                        {{purchaseRow.statusId?.name}}</span></td>
                    <td>

                        <div class="btn-group">
                            <a class="btn" (click)="onEditById(purchaseRow)" data-toggle="modal"
                                data-target="#exampleModal">
                                <fa-icon [icon]="editicon" style="color: #5c34d5;"></fa-icon></a>
                            <!-- style={{color: "#5c34d5",}} -->

                            
                            <!-- <a class="btn" (click)="deletePurchase(purchaseRow.id)">
                                <fa-icon [icon]="fatrash" style="color: #d53449;"></fa-icon></a> -->
                        </div>
                    </td>

                </tr>

            </tbody>
        </table>
    </div>


    <!-- Model Form -->

    <!-- Button trigger modal -->
    <!-- <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
    Launch demo modal
  </button> -->

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">{{title2}}</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <!-- <form [formGroup]="purchaseForm"> -->
                    <div>
                        <section class="section">
                            <div class="section-body">
                                <div class="row">
                                    <div class="col-12">
                                        <div class="card">
                                            <div class="card-header bg-light">
                                                <!-- <div class="w-100 d-flex justify-content-between align-items-end">
                                                        <h4 class="color-primary">Create Inventory Purchase</h4>
                                                        <a href=/purchase/list class="btn btn-lg btn-primary rounded"><i
                                                                class="fas fa-wrench mr-1"></i> Manage Inventory
                                                            Purchase</a>
                                                    </div> -->
                                            </div>
                                            <div class="text-center mt-3">
                                                <h3 class="color-primary text-center mb-0">TechPacker</h3>
                                                <h4 class="">Inventory Purchase</h4>
                                            </div>
                                            <hr>
                                            <form [formGroup]="purchaseForm">

                                                <div class="card-body">
                                                    <div class="row">
                                                        <div class="col-lg-4 col-md-6">
                                                            <div class='mb-2'>
                                                                <label for="vendor">Vendor</label>
                                                                <div class="mb-3">

                                                                    <select id="vendorsId" class="form-select"
                                                                        formControlName="vendorsId">
                                                                        <option *ngFor="let st of vendor"
                                                                            [value]="st.company">{{st.company}}</option>
                                                                    </select>


                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-4 col-md-6">
                                                            <div class='mb-2'>
                                                                <label for="purchase status">Purchase Status</label>
                                                                <div class="mb-3">
                                                                    <select id="statusId" class="form-select"
                                                                        formControlName="statusId">
                                                                        <option *ngFor="let s of status"
                                                                            [value]="s.name">{{s.name}}</option>
                                                                    </select>


                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-4 col-md-6">
                                                            <div class='mb-2'>
                                                                <label for="warehouse">Warehouse</label>
                                                                <div class="mb-3">

                                                                    <select id="wareHouseId" class="form-select"
                                                                        formControlName="wareHouseId">
                                                                        <option *ngFor="let h of warehouse"
                                                                            [value]="h.name">{{h.name}}</option>
                                                                    </select>


                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class='mb-2'>
                                                                <label for='txtPurchaseOrderDate' class=''>Purchase
                                                                    Order Date</label>
                                                                <div class=''>
                                                                    <input type='date' class='form-control'
                                                                        formControlName="purchaseDate"
                                                                        id='txtPurchaseOrderDate'>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class='mb-2'>
                                                                <label for='txtDeliveryDate' class=''>Delivery
                                                                    Date</label>
                                                                <div class=''>
                                                                    <input type='date' class='form-control'
                                                                        formControlName="deliveryDate"
                                                                        id='txtDeliveryDate'>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- <hr> -->
                                                    <div class="p-3 bg-light border rounded">
                                                        <h6 class="color-primary">Add Raw Material</h6>
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class='mb-2'>
                                                                    <label for="rawMaterial">Raw Material</label>
                                                                    <div class="mb-3">
                                                                        <select id="rawMaterialId" class="form-select"
                                                                            formControlName="rawMaterialId">
                                                                            <option *ngFor="let mat of material"
                                                                                [value]="mat.name">{{mat.name}}</option>
                                                                        </select>


                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <div class='mb-2'>
                                                                    <label for='txtPrice' class=''>Price</label>
                                                                    <div class=''>
                                                                        <input type='text' class='form-control'
                                                                            formControlName="price" id='txtPrice'>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <div class='mb-2'>
                                                                    <label for='txtQuantity' class=''>Quantity</label>
                                                                    <div class=''>
                                                                        <input type='text' class='form-control'
                                                                            formControlName="quantity" id='txtQuantity'>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <div class='mb-2'>
                                                                    <label for='txtDiscount' class=''>Discount</label>
                                                                    <div class=''>
                                                                        <input type='text' class='form-control'
                                                                            name='txtDiscount' id='txtDiscount'>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <!-- <div class="col mb-2">
                                                                <input type="button" id="btnAddToCart"
                                                                    name="btnAddToCart"
                                                                    class="btn btn-sm btn-outline-dark float-end"
                                                                    value="Calculate" />
                                                                <input type="button" onclick="clearall()" id="clearAll"
                                                                    class="btn btn-sm btn-outline-danger float-end"
                                                                    value="Empty" />
                                                            </div> -->
                                                        </div>
                                                        <!--                                        <table class="table table-striped table-sm ">-->
                                                        <!--                                            <thead>-->
                                                        <!--                                            <tr>-->
                                                        <!--                                                <th>#</th>-->
                                                        <!--                                                <th>SL</th>-->
                                                        <!--                                                <th>Item</th>-->
                                                        <!--                                                <th class="text-right">Price</th>-->
                                                        <!--                                                <th class="text-center">Quantity</th>-->
                                                        <!--                                                <th class="text-right">Discount</th>-->
                                                        <!--                                                <th class="text-right">Subtotal</th>-->
                                                        <!--                                            </tr>-->
                                                        <!--                                            </thead>-->
                                                        <!--                                            <tbody id="items">-->

                                                        <!--                                            </tbody>-->
                                                        <!--                                        </table>-->
                                                    </div>
                                                    <div class="row">
                                                        <div class="btn-group col my-2">
                                                            <input type="button" onclick="clearall()" id="clearAll"
                                                                class="btn btn-sm btn-outline-danger"
                                                                value="Empty" />
                                                            <input type="button" id="btnAddToCart" name="btnAddToCart"
                                                                class="btn btn-sm btn-outline-primary"
                                                                value="Calculate" />
                                                            
                                                        </div>
                                                    </div>


                                                    <hr>
                                                    <!--                                    //subtotal table-->
                                                    <div class="row">
                                                        <div class="col-lg-5 order-lg-1 order-2 ">
                                                            <div class='mb-2'>
                                                                <label for='txtRemark' class=''>Remarks</label>
                                                                <div class=''><input type='text' class='form-control'
                                                                        id='txtRemark'>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="col-lg-6 order-lg-2 order-1 ml-auto bg-light border rounded">
                                                            <table class="table table-striped text-right">
                                                                <tfoot>
                                                                    <tr>
                                                                        <th>Subtotal</th>
                                                                        <th>
                                                                            <input type="text"
                                                                                class="form-control form-control-sm text-right"
                                                                                name="txtSubtotal" id="txtSubtotal"
                                                                                value="0" />
                                                                        </th>
                                                                    </tr>
                                                                    <!--                                            <tr class="d-none">-->
                                                                    <!--                                                <th></th>-->
                                                                    <!--                                                <th>-->
                                                                    <!--                                                    <input type="text" class="form-control form-control-sm text-right" name="discount" id="discount" value="0"/>-->
                                                                    <!--                                                </th>-->
                                                                    <!--                                            </tr>-->
                                                                    <tr>
                                                                        <th>VAT</th>
                                                                        <th>
                                                                            <input type="text"
                                                                                class="form-control form-control-sm text-right"
                                                                                name="txtVat" id="txtVat" value="0" />
                                                                        </th>
                                                                    </tr>
                                                                    <tr>
                                                                        <th>Paid Amount</th>
                                                                        <th>
                                                                            <input type="text" formControlName="paid"
                                                                                class="form-control form-control-sm text-right"
                                                                                id="txtPaidAmount" value="0" />
                                                                        </th>
                                                                    </tr>
                                                                    <tr>
                                                                        <th>Due Amount</th>
                                                                        <th>
                                                                            <input type="text"
                                                                                class="form-control form-control-sm text-right text-danger"
                                                                                name="txtDueAmount" id="txtDueAmount"
                                                                                value="0" />
                                                                        </th>
                                                                    </tr>
                                                                    <tr>
                                                                        <th>Total</th>
                                                                        <th>
                                                                            <input type="text"
                                                                                class="form-control form-control-sm text-right h6"
                                                                                formControlName="total"
                                                                                id="txtTotalAmount" value="0" readonly/>
                                                                        </th>
                                                                    </tr>
                                                                </tfoot>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--                                <div class="card-footer border-top">-->
                                                <!--                                    <input type='button' value='Create' name='btnProcessOrder' id='btnProcessOrder' class='btn btn-info' />-->
                                                <!--                                </div>-->
                                                <!-- <button type="submit" [disabled]="purchaseForm.invalid"
                                                    class="btn btn-primary" (click)="onSubmit()">Submit</button>
                                                <button type="submit" [disabled]="purchaseForm.invalid"
                                                    class="btn btn-primary" (click)="editPurchase()">Update</button> -->
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>

                    <!-- </form> -->

                </div>
                <div class="modal-footer">
                    <!-- <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button> -->
                    <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
                    <!-- <button type="submit"  class="btn btn-success"
          [disabled]="vendorForm.invalid" (click)="onSubmit()" data-bs-dismiss="modal">Submit</button>
          
              <button type="submit"  class="btn btn-warning"
              [disabled]="vendorForm.invalid" (click)="editVendors()" data-bs-dismiss="modal">Update</button> -->

                    <div class="btn-group">
                        <div class="px-2">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                        <div *ngIf=" menuType == true">
                            <button type="submit" class="btn btn-success" [disabled]="purchaseForm.invalid"
                                (click)="onSubmit()" data-bs-dismiss="modal">Submit</button>
                        </div>
                        <div *ngIf="menuType == false">
                            <button type="submit" class="btn btn-warning" [disabled]="purchaseForm.invalid"
                                (click)="editPurchase()" data-bs-dismiss="modal">Update</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>